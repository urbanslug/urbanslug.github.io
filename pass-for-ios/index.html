<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="referrer" content="no-referrer">

        <!-- Enable responsiveness on mobile devices-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

        <title>Pass for iOS | Mostly Programming</title>
<meta property="og:title" content="Pass for iOS | Mostly Programming" />
<meta name="twitter:title" content="Pass for iOS | Mostly Programming" />

        

        <meta property="og:site_name" content="Mostly Programming" />
        <meta property="og:url" content="https:&#x2F;&#x2F;blog.njagi.me" />

        


        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;base.css" />
        <link rel="stylesheet" href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;style.css">
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">
        <link href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;fontawesome&#x2F;fontawesome.css" rel="stylesheet">
        <link href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;fontawesome&#x2F;brands.css" rel="stylesheet">
        <link href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;fontawesome&#x2F;solid.css" rel="stylesheet">

        <link rel='icon' type='image/x-icon' href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;favicon.ico" />

        

        

    </head>
    <body>
        <a href="#main" class="skip-link p-screen-reader-text">Skip to content</a>
        

        
        <div id="taxonomy-header"></div>
        

        <main id="main" class="l-main">
            
<article class="p-article">
  <header>
    <a id="home-link" href="https:&#x2F;&#x2F;blog.njagi.me"><i class="fas fa-home"></i> Mostly Programming</a>
    <h1 id="page-title">Pass for iOS</h1>
        <div>
            <div class="c-time">

              <time datetime="2019-01-07">
                Jan 07, 2019
              </time>
              
               - (4 min read)
            </div>
        </div>
    </header>
    
    <section id="js-article" class="p-article__body">
        
    <p>If you have a GPG keypair, believe in using strong passwords and are paranoid (don't trust password management tools), then <a href="https://www.passwordstore.org/">pass</a> is the tool for you.
I've been using it for so long that I can't remember when I started using it and I have to say, I really like it.</p>
<p>Pass is a FOSS tool that lets you roll your own password management tool-chain and if that sounds hard, it's not.
It works by storing your password, security questions etc in version controlled plain text files and encrypting them using your keys.
You then clone your passwords repo and copy your GPG keys to the devices which you would like to access your passwords on.</p>
<blockquote>
<p>Pass is a FOSS that lets you roll your own password management tool-chain.</p>
</blockquote>
<p>A known downside of pass is that it <strong>leaks metadata</strong>.
The workaround to this is storing all your passwords in a single file.
Guys in the ##crypto on Freenode also recommend <a href="https://keepassxc.org/">keepassxc</a>.</p>
<p>A short overview of pass:</p>
<ol>
<li>Have a GPG keypair and (not required but a really good idea) a hosted version control system.</li>
<li>Set up pass so that it knows which keypair to use.</li>
<li>Create a git repo (password-store) which will hold your encrypted passwords.</li>
<li>Start generating and version controlling your passwords.</li>
</ol>
<p>However, this isn't a post about pass; it's about how to use pass on iOS and
there's a tool, <a href="https://github.com/mssun/passforios">pass for iOS</a>, that does that.
Assuming you're already a pass user the question is how
to get pass working on your iPad, iPhone or whatever.</p>
<h1 id="how-do-we-transfer-our-ssh-and-gpg-keys">How do we transfer our SSH and GPG keys?<a class="zola-anchor" href="#how-do-we-transfer-our-ssh-and-gpg-keys" aria-label="Anchor link for: how-do-we-transfer-our-ssh-and-gpg-keys"><i class="fas fa-link"></i></a> 
</h1>
<p>I think the easiest way would be via iTunes but that doesn't feel right at all.
Why would I trust a 3rd party server with my private key?</p>
<p>What I decided to go with is a tool, <a href="https://github.com/yishilin14/asc-key-to-qr-code-gif">asc-key-to-qr-code-gif</a>,
that converts converts ASCII (amored for GPG) keys to QR codes
and then I scan those QR codes on <a href="https://github.com/mssun/passforios">Pass for iOS</a>.
It's all open source tools and no 3rd party servers involved.
Tell me what you think about this &quot;convert your keys to QR code&quot;
business <a href="https://twitter.com/urbanslug">via a tweet</a>.</p>
<blockquote>
<p>Itâ€™s all open source tools and no 3rd party servers involved.</p>
</blockquote>
<h2 id="setup-and-installing-dependencies">Setup and installing dependencies<a class="zola-anchor" href="#setup-and-installing-dependencies" aria-label="Anchor link for: setup-and-installing-dependencies"><i class="fas fa-link"></i></a> 
</h2>
<p>First, I had to install some dependencies via homebrew. I felt it important to install zbar in case there were any errors during QR code generation.</p>
<pre style="background-color:#f5f5f5;">
<code><span style="color:#5597d6;">brew</span><span style="color:#1f1f1f;"> install libqrencode imagemagick zbar
</span></code></pre>
<p><br/>Clone the <a href="https://github.com/yishilin14/asc-key-to-qr-code-gif">asc-key-to-qr-code-gif</a> repo to get the QR code generation script, asc-to-gif.sh.</p>
<pre style="background-color:#f5f5f5;">
<code><span style="color:#5597d6;">git</span><span style="color:#1f1f1f;"> clone git@github.com:yishilin14/asc-key-to-qr-code-gif.git
</span></code></pre><h2 id="gpg">GPG<a class="zola-anchor" href="#gpg" aria-label="Anchor link for: gpg"><i class="fas fa-link"></i></a> 
</h2>
<h3 id="export-your-gpg-keys-into-ascii-armored-files">Export your GPG keys into ASCII armored files<a class="zola-anchor" href="#export-your-gpg-keys-into-ascii-armored-files" aria-label="Anchor link for: export-your-gpg-keys-into-ascii-armored-files"><i class="fas fa-link"></i></a> 
</h3>
<pre style="background-color:#f5f5f5;">
<code><span style="color:#5597d6;">gpg --export --armor </span><span style="color:#72ab00;">&lt;</span><span style="color:#1f1f1f;">key id</span><span style="color:#72ab00;">&gt; &gt;</span><span style="color:#1f1f1f;"> public.asc
</span><span style="color:#5597d6;">gpg --export-secret-keys --armor </span><span style="color:#72ab00;">&lt;</span><span style="color:#1f1f1f;">key id</span><span style="color:#72ab00;">&gt; &gt;</span><span style="color:#1f1f1f;"> private.asc

</span></code></pre><h3 id="generate-and-scan-the-gpg-gifs">Generate and scan the GPG gifs:<a class="zola-anchor" href="#generate-and-scan-the-gpg-gifs" aria-label="Anchor link for: generate-and-scan-the-gpg-gifs"><i class="fas fa-link"></i></a> 
</h3>
<pre style="background-color:#f5f5f5;">
<code><span style="color:#5597d6;">asc-to-gif.sh</span><span style="color:#1f1f1f;"> public.asc public.gif
</span><span style="color:#5597d6;">asc-to-gif.sh</span><span style="color:#1f1f1f;"> private.asc private.gif
</span></code></pre><h2 id="ssh">SSH<a class="zola-anchor" href="#ssh" aria-label="Anchor link for: ssh"><i class="fas fa-link"></i></a> 
</h2>
<p>I prefer to have different SSH keys for different devices
that way it's easy to revoke access for different devices.
Moreover, using ed25519 keys on phones often fails because of the versions of OpenSSH
they ship with so I just go with RSA which is the default anyway.
In this case it even had to be PEM due to the version of GitSSH on iOS.
Based on the <a href="https://github.com/mssun/passforios/wiki/Supported-Unsupported-Key-Algorithms">Supported Unsupported Key Algorithms wiki page</a> and <a href="https://github.com/mssun/passforios/issues/218">issue 218</a>,
generate device keys with:</p>
<pre style="background-color:#f5f5f5;">
<code><span style="color:#5597d6;">ssh-keygen -t</span><span style="color:#1f1f1f;"> rsa</span><span style="color:#5597d6;"> -b</span><span style="color:#1f1f1f;"> 4096</span><span style="color:#5597d6;"> -m</span><span style="color:#1f1f1f;"> PEM</span><span style="color:#5597d6;"> -f ~</span><span style="color:#1f1f1f;">/.ssh/id_rsa_</span><span style="color:#72ab00;">&lt;</span><span style="color:#1f1f1f;">device</span><span style="color:#72ab00;">&gt; </span><span style="color:#1f1f1f;">-C </span><span style="color:#d07711;">&quot;&lt;user&gt;@&lt;device&gt;&quot;
</span></code></pre>
<p>Then copy the pubkey to the version control tool of your choice.</p>
<h3 id="generate-and-scan-the-ssh-gif">Generate and scan the SSH gif:<a class="zola-anchor" href="#generate-and-scan-the-ssh-gif" aria-label="Anchor link for: generate-and-scan-the-ssh-gif"><i class="fas fa-link"></i></a> 
</h3>
<p>Generate a GIF for it.</p>
<pre style="background-color:#f5f5f5;">
<code><span style="color:#5597d6;">asc-to-gif.sh ~</span><span style="color:#1f1f1f;">/.ssh/id_rsa_</span><span style="color:#72ab00;">&lt;</span><span style="color:#1f1f1f;">device</span><span style="color:#72ab00;">&gt;</span><span style="color:#1f1f1f;"> ssh.gif
</span></code></pre><h4 id="cloning-your-password-store-repo-into-your-device">Cloning your password-store repo into your device<a class="zola-anchor" href="#cloning-your-password-store-repo-into-your-device" aria-label="Anchor link for: cloning-your-password-store-repo-into-your-device"><i class="fas fa-link"></i></a> 
</h4>
<p>Set the URL in this format:</p>
<pre style="background-color:#f5f5f5;">
<code><span style="color:#5597d6;">ssh://git@gitlab.com/</span><span style="color:#72ab00;">&lt;</span><span style="color:#1f1f1f;">gitlab username</span><span style="color:#72ab00;">&gt;</span><span style="color:#1f1f1f;">/</span><span style="color:#72ab00;">&lt;</span><span style="color:#1f1f1f;">password store repo</span><span style="color:#72ab00;">&gt;</span><span style="color:#1f1f1f;">.git
</span></code></pre>
<p>and set your username to <code>git</code> according to <a href="https://github.com/mssun/passforios/issues/112#issuecomment-318342043">issue 112</a>.</p>
<p>I'll assume you can do the rest, like cloning the password store repository into your device and decrypting your password files, by yourself ;).</p>


    </section>
    <footer>
      <hr>
      <div>
        

        
      </div>
        <nav class="c-pagination p-pagination">
            <div class="c-pagination__ctrl">
                <div class="c-pagination__newer">
                    <a href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;statistics&#x2F;">Statistics</a>
                </div>
                <div class="c-pagination__older">
                    <a href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;deep-work&#x2F;">Deep Work</a>
                </div>
            </div>
        </nav>
    </footer>
</article>
        </main>

        <footer class="l-footer">
          <div id="socials">
            <span class="social-item"><i class="fab fa-github"></i><a target="_blank" href="https://github.com/urbanslug">urbanslug</a></span>
            <span class="social-item"><i class="fab fa-twitter"></i><a target="_blank" href="https://twitter.com/urbanslug">urbanslug</a></span>
          </div>
          <p class="p-copyright">
              
              
    All work is under the terms of the <a href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License, Version 1.3</a>

          </p>
      </footer>

      
      <link rel="stylesheet" href="https:&#x2F;&#x2F;blog.njagi.me&#x2F;css&#x2F;katex.min.css">
      <script defer src="https:&#x2F;&#x2F;blog.njagi.me&#x2F;js&#x2F;katex.min.js"></script>
      <script defer src="https:&#x2F;&#x2F;blog.njagi.me&#x2F;js&#x2F;mathtex-script-type.min.js"></script>
    </body>
</html>
